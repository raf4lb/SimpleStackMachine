; delay milliseconds
; - param: ms (U16)

fn .delay_ms
    ALLOC_LOCAL 2 $ms
    POP_LOCAL 2 $ms
    PUSH_MILLIS
    ALLOC_LOCAL 2 $current_millis
    POP_LOCAL 2 $current_millis
    .loop_delay
        PUSH_MILLIS
        PUSH_LOCAL 2 $current_millis
        SUB_U16
        PUSH_LOCAL 2 $ms
        COMPARE_GT
        POP_JUMP_IF_FALSE .loop_delay
        RETURN